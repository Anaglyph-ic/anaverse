(()=>{const a=[];onmessage=function(e){var t=e.data.galleryURLs,o=t.length,r=0;t.forEach((e=>{fetch(e.galurl).then((a=>a.json())).then((t=>{var n,s,c,l,i;n=t,s=e.contract,c=e.id,l=e.curator,i={room:parseInt(n.room),skybox:parseInt(n.skybox),name:JSON.stringify(n.name),contract:s,id:c,curator:l,gallery:[]},n.gallery.forEach((a=>{for(const e in a)switch(e){case"position":case"rotation":case"scale":for(const t in a[e])"x"===t||"y"===t||"z"===t||delete a[e][t];break;case"objktMetaData":case"openSeaMetaData":case"tokenType":break;default:delete a[e]}})),n.gallery.forEach((a=>{var e=!1;if(a.hasOwnProperty("objktMetaData")){var t=!1;for(const e in a.objktMetaData)"contract"===e||"token_id"===e?t=!0:delete a.objktMetaData[e];t&&(e=!0)}e&&i.gallery.push(a)})),i.gallery.length>0&&a.push(i),++r===o&&postMessage(a)}))}))}})();
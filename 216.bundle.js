(()=>{const e={},a=(e,a,t)=>{var s=new OffscreenCanvas(4*a,3*a);self.document={createElement:()=>s,fonts:{check:()=>!0}};var n=e.skybox(a,t,!0);for(const e in n.coordinates){var o=n.coordinates[e];let t=new OffscreenCanvas(a,a).getContext("2d",{willReadFrequently:!0});t.putImageData(n.image,-o.x,-o.y,o.x,o.y,a,a),postMessage({pos:e,imagedata:t.getImageData(0,0,a,a),side:a})}};onmessage=function(t){const s=t.data.skyurl,n=t.data.side,o=t.data.hash;e.hasOwnProperty(s)?(skybox=e[s],a(skybox,n,o)):import(s).then((t=>{e[s]=t,a(t,n,o)}))}})();
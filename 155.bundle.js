"use strict";(self.webpackChunkfxhash_boilerplate_webpack=self.webpackChunkfxhash_boilerplate_webpack||[]).push([[155],{2368:(t,e,n)=>{n.d(e,{B:()=>o});class o{constructor(){this.boundingData=new Float32Array(6)}}},2464:(t,e,n)=>{n.d(e,{G:()=>u,m:()=>d});var o=n(5896),s=n(7844);let r,i,c,a;const l=Math.pow(2,32);function d(t){return t.count?1:1+d(t.left)+d(t.right)}function u(t,e,n){return r=new Float32Array(n),i=new Uint32Array(n),c=new Uint16Array(n),a=new Uint8Array(n),p(t,e)}function p(t,e){const n=t/4,d=t/2,u=!!e.count,f=e.boundingData;for(let t=0;t<6;t++)r[n+t]=f[t];if(u){if(e.buffer){const r=e.buffer;a.set(new Uint8Array(r),t);for(let e=t,a=t+r.byteLength;e<a;e+=o.ym){const t=e/2;(0,s.OD)(t,c)||(i[e/4+6]+=n)}return t+r.byteLength}{const s=e.offset,r=e.count;return i[n+6]=s,c[d+14]=r,c[d+15]=o.ms,t+o.ym}}{const s=e.left,r=e.right,c=e.splitAxis;let a;if(a=p(t+o.ym,s),a/4>l)throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return i[n+6]=a/4,a=p(a,r),i[n+7]=c,a}}},2320:(t,e,n)=>{n.d(e,{K:()=>r,g:()=>i});var o=n(5896),s=n(6576);function r(t,e,n,o,s){let r=1/0,i=1/0,c=1/0,a=-1/0,l=-1/0,d=-1/0,u=1/0,p=1/0,f=1/0,h=-1/0,y=-1/0,m=-1/0;for(let o=6*e,s=6*(e+n);o<s;o+=6){const e=t[o+0],n=t[o+1],s=e-n,w=e+n;s<r&&(r=s),w>a&&(a=w),e<u&&(u=e),e>h&&(h=e);const x=t[o+2],P=t[o+3],g=x-P,T=x+P;g<i&&(i=g),T>l&&(l=T),x<p&&(p=x),x>y&&(y=x);const b=t[o+4],V=t[o+5],B=b-V,A=b+V;B<c&&(c=B),A>d&&(d=A),b<f&&(f=b),b>m&&(m=b)}o[0]=r,o[1]=i,o[2]=c,o[3]=a,o[4]=l,o[5]=d,s[0]=u,s[1]=p,s[2]=f,s[3]=h,s[4]=y,s[5]=m}function i(t,e=null,n=null,r=null){const i=t.attributes.position,c=t.index?t.index.array:null,a=(0,s.Se)(t),l=i.normalized;let d;null===e?(d=new Float32Array(6*a*4),n=0,r=a):(d=e,n=n||0,r=r||a);const u=i.array,p=i.offset||0;let f=3;i.isInterleavedBufferAttribute&&(f=i.data.stride);const h=["getX","getY","getZ"];for(let t=n;t<n+r;t++){const e=3*t,n=6*t;let s=e+0,r=e+1,a=e+2;c&&(s=c[s],r=c[r],a=c[a]),l||(s=s*f+p,r=r*f+p,a=a*f+p);for(let t=0;t<3;t++){let e,c,p;l?(e=i[h[t]](s),c=i[h[t]](r),p=i[h[t]](a)):(e=u[s+t],c=u[r+t],p=u[a+t]);let f=e;c<f&&(f=c),p<f&&(f=p);let y=e;c>y&&(y=c),p>y&&(y=p);const m=(y-f)/2,w=2*t;d[n+w+0]=f+m,d[n+w+1]=m+(Math.abs(f)+m)*o.kz}}return d}},8348:(t,e,n)=>{function o(t,e,n,o,s,r){let i=o,c=o+s-1;const a=r.pos,l=2*r.axis;for(;;){for(;i<=c&&n[6*i+l]<a;)i++;for(;i<=c&&n[6*c+l]>=a;)c--;if(!(i<c))return i;for(let t=0;t<3;t++){let n=e[3*i+t];e[3*i+t]=e[3*c+t],e[3*c+t]=n}for(let t=0;t<6;t++){let e=n[6*i+t];n[6*i+t]=n[6*c+t],n[6*c+t]=e}i++,c--}}n.d(e,{Y:()=>o})},740:(t,e,n)=>{function o(t,e,n,o,s,r){let i=o,c=o+s-1;const a=r.pos,l=2*r.axis;for(;;){for(;i<=c&&n[6*i+l]<a;)i++;for(;i<=c&&n[6*c+l]>=a;)c--;if(!(i<c))return i;{let e=t[i];t[i]=t[c],t[c]=e;for(let t=0;t<6;t++){let e=n[6*i+t];n[6*i+t]=n[6*c+t],n[6*c+t]=e}i++,c--}}}n.d(e,{y:()=>o})},7048:(t,e,n)=>{n.d(e,{a:()=>l});var o=n(4496),s=n(5896);const r=32,i=(t,e)=>t.candidate-e.candidate,c=new Array(r).fill().map((()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0}))),a=new Float32Array(6);function l(t,e,n,l,d,u){let p=-1,f=0;if(u===s.QQ)p=(0,o.g3)(e),-1!==p&&(f=(e[p]+e[p+3])/2);else if(u===s.ae)p=(0,o.g3)(t),-1!==p&&(f=function(t,e,n,o){let s=0;for(let r=e,i=e+n;r<i;r++)s+=t[6*r+2*o];return s/n}(n,l,d,p));else if(u===s.Wk){const u=(0,o.ph)(t);let h=s.Oy*d;const y=6*l,m=6*(l+d);for(let t=0;t<3;t++){const l=e[t],w=(e[t+3]-l)/r;if(d<r/4){const e=[...c];e.length=d;let r=0;for(let s=y;s<m;s+=6,r++){const i=e[r];i.candidate=n[s+2*t],i.count=0;const{bounds:c,leftCacheBounds:a,rightCacheBounds:l}=i;for(let t=0;t<3;t++)l[t]=1/0,l[t+3]=-1/0,a[t]=1/0,a[t+3]=-1/0,c[t]=1/0,c[t+3]=-1/0;(0,o.zn)(s,n,c)}e.sort(i);let a=d;for(let t=0;t<a;t++){const n=e[t];for(;t+1<a&&e[t+1].candidate===n.candidate;)e.splice(t+1,1),a--}for(let s=y;s<m;s+=6){const r=n[s+2*t];for(let t=0;t<a;t++){const i=e[t];r>=i.candidate?(0,o.zn)(s,n,i.rightCacheBounds):((0,o.zn)(s,n,i.leftCacheBounds),i.count++)}}for(let n=0;n<a;n++){const r=e[n],i=r.count,c=d-r.count,a=r.leftCacheBounds,l=r.rightCacheBounds;let y=0;0!==i&&(y=(0,o.ph)(a)/u);let m=0;0!==c&&(m=(0,o.ph)(l)/u);const w=s._q+s.Oy*(y*i+m*c);w<h&&(p=t,h=w,f=r.candidate)}}else{for(let t=0;t<r;t++){const e=c[t];e.count=0,e.candidate=l+w+t*w;const n=e.bounds;for(let t=0;t<3;t++)n[t]=1/0,n[t+3]=-1/0}for(let e=y;e<m;e+=6){let s=~~((n[e+2*t]-l)/w);s>=r&&(s=r-1);const i=c[s];i.count++,(0,o.zn)(e,n,i.bounds)}const e=c[r-1];(0,o.Mx)(e.bounds,e.rightCacheBounds);for(let t=r-2;t>=0;t--){const e=c[t],n=c[t+1];(0,o.ED)(e.bounds,n.rightCacheBounds,e.rightCacheBounds)}let i=0;for(let e=0;e<r-1;e++){const n=c[e],r=n.count,l=n.bounds,y=c[e+1].rightCacheBounds;0!==r&&(0===i?(0,o.Mx)(l,a):(0,o.ED)(l,a,a)),i+=r;let m=0,w=0;0!==i&&(m=(0,o.ph)(a)/u);const x=d-i;0!==x&&(w=(0,o.ph)(y)/u);const P=s._q+s.Oy*(m*i+w*x);P<h&&(p=t,h=P,f=n.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${u} used.`);return{axis:p,pos:f}}},2160:(t,e,n)=>{n.d(e,{J:()=>c});var o=n(9224),s=n(1544),r=n(9904);function i(t){return Math.abs(t)<1e-15}class c extends o.Triangle{constructor(...t){super(...t),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map((()=>new o.Vector3)),this.satBounds=new Array(4).fill().map((()=>new s.K)),this.points=[this.a,this.b,this.c],this.sphere=new o.Sphere,this.plane=new o.Plane,this.needsUpdate=!0}intersectsSphere(t){return(0,r.Si)(t,this)}update(){const t=this.a,e=this.b,n=this.c,o=this.points,s=this.satAxes,r=this.satBounds,i=s[0],c=r[0];this.getNormal(i),c.setFromPoints(i,o);const a=s[1],l=r[1];a.subVectors(t,e),l.setFromPoints(a,o);const d=s[2],u=r[2];d.subVectors(e,n),u.setFromPoints(d,o);const p=s[3],f=r[3];p.subVectors(n,t),f.setFromPoints(p,o),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(i,t),this.needsUpdate=!1}}c.prototype.closestPointToSegment=function(){const t=new o.Vector3,e=new o.Vector3,n=new o.Line3;return function(o,s=null,i=null){const{start:c,end:a}=o,l=this.points;let d,u=1/0;for(let c=0;c<3;c++){const a=(c+1)%3;n.start.copy(l[c]),n.end.copy(l[a]),(0,r.gB)(n,o,t,e),d=t.distanceToSquared(e),d<u&&(u=d,s&&s.copy(t),i&&i.copy(e))}return this.closestPointToPoint(c,t),d=c.distanceToSquared(t),d<u&&(u=d,s&&s.copy(t),i&&i.copy(c)),this.closestPointToPoint(a,t),d=a.distanceToSquared(t),d<u&&(u=d,s&&s.copy(t),i&&i.copy(a)),Math.sqrt(u)}}(),c.prototype.intersectsTriangle=function(){const t=new c,e=new Array(3),n=new Array(3),r=new s.K,a=new s.K,l=new o.Vector3,d=new o.Vector3,u=new o.Vector3,p=new o.Vector3,f=new o.Vector3,h=new o.Line3,y=new o.Line3,m=new o.Line3,w=new o.Vector3;function x(t,e,n){const o=t.points;let s=0,r=-1;for(let t=0;t<3;t++){const{start:c,end:a}=h;c.copy(o[t]),a.copy(o[(t+1)%3]),h.delta(d);const l=i(e.distanceToPoint(c));if(i(e.normal.dot(d))&&l){n.copy(h),s=2;break}const u=e.intersectLine(h,w);if(!u&&l&&w.copy(c),(u||l)&&!i(w.distanceTo(a))){if(s<=1)(1===s?n.start:n.end).copy(w),l&&(r=s);else if(s>=2){(1===r?n.start:n.end).copy(w),s=2;break}if(s++,2===s&&-1===r)break}}return s}return function(o,s=null,i=!1){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(t.copy(o),t.update(),o=t);const c=this.plane,d=o.plane;if(Math.abs(c.normal.dot(d.normal))>1-1e-10){const t=this.satBounds,c=this.satAxes;n[0]=o.a,n[1]=o.b,n[2]=o.c;for(let e=0;e<4;e++){const o=t[e],s=c[e];if(r.setFromPoints(s,n),o.isSeparated(r))return!1}const d=o.satBounds,u=o.satAxes;e[0]=this.a,e[1]=this.b,e[2]=this.c;for(let t=0;t<4;t++){const n=d[t],o=u[t];if(r.setFromPoints(o,e),n.isSeparated(r))return!1}for(let t=0;t<4;t++){const o=c[t];for(let t=0;t<4;t++){const s=u[t];if(l.crossVectors(o,s),r.setFromPoints(l,e),a.setFromPoints(l,n),r.isSeparated(a))return!1}}return s&&(i||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),s.start.set(0,0,0),s.end.set(0,0,0)),!0}{const t=x(this,d,y);if(1===t&&o.containsPoint(y.end))return s&&(s.start.copy(y.end),s.end.copy(y.end)),!0;if(2!==t)return!1;const e=x(o,c,m);if(1===e&&this.containsPoint(m.end))return s&&(s.start.copy(m.end),s.end.copy(m.end)),!0;if(2!==e)return!1;if(y.delta(u),m.delta(p),u.dot(p)<0){let t=m.start;m.start=m.end,m.end=t}const n=y.start.dot(u),r=y.end.dot(u),i=m.start.dot(u),a=m.end.dot(u);return(n===a||i===r||r<i!=n<a)&&(s&&(f.subVectors(y.start,m.start),f.dot(u)>0?s.start.copy(y.start):s.start.copy(m.start),f.subVectors(y.end,m.end),f.dot(u)<0?s.end.copy(y.end):s.end.copy(m.end)),!0)}}}(),c.prototype.distanceToPoint=function(){const t=new o.Vector3;return function(e){return this.closestPointToPoint(e,t),e.distanceTo(t)}}(),c.prototype.distanceToTriangle=function(){const t=new o.Vector3,e=new o.Vector3,n=["a","b","c"],s=new o.Line3,i=new o.Line3;return function(o,c=null,a=null){const l=c||a?s:null;if(this.intersectsTriangle(o,l))return(c||a)&&(c&&l.getCenter(c),a&&l.getCenter(a)),0;let d=1/0;for(let e=0;e<3;e++){let s;const r=n[e],i=o[r];this.closestPointToPoint(i,t),s=i.distanceToSquared(t),s<d&&(d=s,c&&c.copy(t),a&&a.copy(i));const l=this[r];o.closestPointToPoint(l,t),s=l.distanceToSquared(t),s<d&&(d=s,c&&c.copy(l),a&&a.copy(t))}for(let l=0;l<3;l++){const u=n[l],p=n[(l+1)%3];s.set(this[u],this[p]);for(let l=0;l<3;l++){const u=n[l],p=n[(l+1)%3];i.set(o[u],o[p]),(0,r.gB)(s,i,t,e);const f=t.distanceToSquared(e);f<d&&(d=f,c&&c.copy(t),a&&a.copy(e))}}return Math.sqrt(d)}}()},9904:(t,e,n)=>{n.d(e,{Si:()=>i,gB:()=>r});var o=n(9224);const s=function(){const t=new o.Vector3,e=new o.Vector3,n=new o.Vector3;return function(o,s,r){const i=o.start,c=t,a=s.start,l=e;n.subVectors(i,a),t.subVectors(o.end,o.start),e.subVectors(s.end,s.start);const d=n.dot(l),u=l.dot(c),p=l.dot(l),f=n.dot(c),h=c.dot(c)*p-u*u;let y,m;y=0!==h?(d*u-f*p)/h:0,m=(d+y*u)/p,r.x=y,r.y=m}}(),r=function(){const t=new o.Vector2,e=new o.Vector3,n=new o.Vector3;return function(o,r,i,c){s(o,r,t);let a=t.x,l=t.y;if(a>=0&&a<=1&&l>=0&&l<=1)return o.at(a,i),void r.at(l,c);if(a>=0&&a<=1)return l<0?r.at(0,c):r.at(1,c),void o.closestPointToPoint(c,!0,i);if(l>=0&&l<=1)return a<0?o.at(0,i):o.at(1,i),void r.closestPointToPoint(i,!0,c);{let t,s;t=a<0?o.start:o.end,s=l<0?r.start:r.end;const d=e,u=n;return o.closestPointToPoint(s,!0,e),r.closestPointToPoint(t,!0,n),d.distanceToSquared(s)<=u.distanceToSquared(t)?(i.copy(d),void c.copy(s)):(i.copy(t),void c.copy(u))}}}(),i=function(){const t=new o.Vector3,e=new o.Vector3,n=new o.Plane,s=new o.Line3;return function(o,r){const{radius:i,center:c}=o,{a,b:l,c:d}=r;if(s.start=a,s.end=l,s.closestPointToPoint(c,!0,t).distanceTo(c)<=i)return!0;if(s.start=a,s.end=d,s.closestPointToPoint(c,!0,t).distanceTo(c)<=i)return!0;if(s.start=l,s.end=d,s.closestPointToPoint(c,!0,t).distanceTo(c)<=i)return!0;const u=r.getPlane(n);if(Math.abs(u.distanceToPoint(c))<=i){const t=u.projectPoint(c,e);if(r.containsPoint(t))return!0}return!1}}()},3540:(t,e,n)=>{n.d(e,{Y:()=>c});var o=n(9224),s=n(1544),r=n(2160),i=n(9904);class c{constructor(t,e,n){this.isOrientedBox=!0,this.min=new o.Vector3,this.max=new o.Vector3,this.matrix=new o.Matrix4,this.invMatrix=new o.Matrix4,this.points=new Array(8).fill().map((()=>new o.Vector3)),this.satAxes=new Array(3).fill().map((()=>new o.Vector3)),this.satBounds=new Array(3).fill().map((()=>new s.K)),this.alignedSatBounds=new Array(3).fill().map((()=>new s.K)),this.needsUpdate=!1,t&&this.min.copy(t),e&&this.max.copy(e),n&&this.matrix.copy(n)}set(t,e,n){this.min.copy(t),this.max.copy(e),this.matrix.copy(n),this.needsUpdate=!0}copy(t){this.min.copy(t.min),this.max.copy(t.max),this.matrix.copy(t.matrix),this.needsUpdate=!0}}c.prototype.update=function(){const t=this.matrix,e=this.min,n=this.max,o=this.points;for(let s=0;s<=1;s++)for(let r=0;r<=1;r++)for(let i=0;i<=1;i++){const c=o[1*s|2*r|4*i];c.x=s?n.x:e.x,c.y=r?n.y:e.y,c.z=i?n.z:e.z,c.applyMatrix4(t)}const s=this.satBounds,r=this.satAxes,i=o[0];for(let t=0;t<3;t++){const e=r[t],n=s[t],c=o[1<<t];e.subVectors(i,c),n.setFromPoints(e,o)}const c=this.alignedSatBounds;c[0].setFromPointsField(o,"x"),c[1].setFromPointsField(o,"y"),c[2].setFromPointsField(o,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},c.prototype.intersectsBox=function(){const t=new s.K;return function(e){this.needsUpdate&&this.update();const n=e.min,o=e.max,s=this.satBounds,r=this.satAxes,i=this.alignedSatBounds;if(t.min=n.x,t.max=o.x,i[0].isSeparated(t))return!1;if(t.min=n.y,t.max=o.y,i[1].isSeparated(t))return!1;if(t.min=n.z,t.max=o.z,i[2].isSeparated(t))return!1;for(let n=0;n<3;n++){const o=r[n],i=s[n];if(t.setFromBox(o,e),i.isSeparated(t))return!1}return!0}}(),c.prototype.intersectsTriangle=function(){const t=new r.J,e=new Array(3),n=new s.K,i=new s.K,c=new o.Vector3;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(t.copy(o),t.update(),o=t);const s=this.satBounds,r=this.satAxes;e[0]=o.a,e[1]=o.b,e[2]=o.c;for(let t=0;t<3;t++){const o=s[t],i=r[t];if(n.setFromPoints(i,e),o.isSeparated(n))return!1}const a=o.satBounds,l=o.satAxes,d=this.points;for(let t=0;t<3;t++){const e=a[t],o=l[t];if(n.setFromPoints(o,d),e.isSeparated(n))return!1}for(let t=0;t<3;t++){const o=r[t];for(let t=0;t<4;t++){const s=l[t];if(c.crossVectors(o,s),n.setFromPoints(c,e),i.setFromPoints(c,d),n.isSeparated(i))return!1}}return!0}}(),c.prototype.closestPointToPoint=function(t,e){return this.needsUpdate&&this.update(),e.copy(t).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),e},c.prototype.distanceToPoint=function(){const t=new o.Vector3;return function(e){return this.closestPointToPoint(e,t),e.distanceTo(t)}}(),c.prototype.distanceToBox=function(){const t=["x","y","z"],e=new Array(12).fill().map((()=>new o.Line3)),n=new Array(12).fill().map((()=>new o.Line3)),s=new o.Vector3,r=new o.Vector3;return function(o,c=0,a=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(a||l)&&(o.getCenter(r),this.closestPointToPoint(r,s),o.closestPointToPoint(s,r),a&&a.copy(s),l&&l.copy(r)),0;const d=c*c,u=o.min,p=o.max,f=this.points;let h=1/0;for(let t=0;t<8;t++){const e=f[t];r.copy(e).clamp(u,p);const n=e.distanceToSquared(r);if(n<h&&(h=n,a&&a.copy(e),l&&l.copy(r),n<d))return Math.sqrt(n)}let y=0;for(let o=0;o<3;o++)for(let s=0;s<=1;s++)for(let r=0;r<=1;r++){const i=(o+1)%3,c=(o+2)%3,a=1<<o|s<<i|r<<c,l=f[s<<i|r<<c],d=f[a];e[y].set(l,d);const h=t[o],m=t[i],w=t[c],x=n[y],P=x.start,g=x.end;P[h]=u[h],P[m]=s?u[m]:p[m],P[w]=r?u[w]:p[m],g[h]=p[h],g[m]=s?u[m]:p[m],g[w]=r?u[w]:p[m],y++}for(let t=0;t<=1;t++)for(let e=0;e<=1;e++)for(let n=0;n<=1;n++){r.x=t?p.x:u.x,r.y=e?p.y:u.y,r.z=n?p.z:u.z,this.closestPointToPoint(r,s);const o=r.distanceToSquared(s);if(o<h&&(h=o,a&&a.copy(s),l&&l.copy(r),o<d))return Math.sqrt(o)}for(let t=0;t<12;t++){const o=e[t];for(let t=0;t<12;t++){const e=n[t];(0,i.gB)(o,e,s,r);const c=s.distanceToSquared(r);if(c<h&&(h=c,a&&a.copy(s),l&&l.copy(r),c<d))return Math.sqrt(c)}}return Math.sqrt(h)}}()},1544:(t,e,n)=>{n.d(e,{K:()=>s});var o=n(9224);class s{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(t,e){let n=1/0,o=-1/0;for(let s=0,r=t.length;s<r;s++){const r=t[s][e];n=r<n?r:n,o=r>o?r:o}this.min=n,this.max=o}setFromPoints(t,e){let n=1/0,o=-1/0;for(let s=0,r=e.length;s<r;s++){const r=e[s],i=t.dot(r);n=i<n?i:n,o=i>o?i:o}this.min=n,this.max=o}isSeparated(t){return this.min>t.max||t.min>this.max}}s.prototype.setFromBox=function(){const t=new o.Vector3;return function(e,n){const o=n.min,s=n.max;let r=1/0,i=-1/0;for(let n=0;n<=1;n++)for(let c=0;c<=1;c++)for(let a=0;a<=1;a++){t.x=o.x*n+s.x*(1-n),t.y=o.y*c+s.y*(1-c),t.z=o.z*a+s.z*(1-a);const l=e.dot(t);r=Math.min(l,r),i=Math.max(l,i)}this.min=r,this.max=i}}(),new s}}]);
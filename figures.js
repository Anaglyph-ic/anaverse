const genererFigures=(e,x,y)=>{let r="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",l=e.slice(2),z=new RegExp(".{"+(e.length/4|0)+"}","g");var o=((e,x,y,r)=>()=>{var l=((e|=0)+(x|=0)|0)+(r|=0)|0;return r=r+1|0,e=x^x>>>9,x=(y|=0)+(y<<3)|0,y=(y=y<<21|y>>>11)+l|0,(l>>>0)/4294967296})(...l.match(z).map((e=>{return x=e,[...x].reduce(((e,x)=>e*r.length+r.indexOf(x)|0),0);var x})));const s=[],a={},t=1.92,d=1.56,i=()=>o(),n=e=>Math.floor(e*i()),w=e=>e[Math.floor(i()*e.length)];function g(e,x,y){for(var r,l,z=e.length,o=e[z-1],s=o[0],a=o[1],t=!1,d=0;d<z;++d)r=(o=e[d])[0],(l=o[1])>y!=a>y&&x<(s-r)*(y-l)/(a-l)+r&&(t=!t),s=r,a=l;return t}const T={Tile1x1:{type:"BoxGeometry",args:[1,1/3,1]},Tile1x2:{type:"BoxGeometry",args:[1,1/3,2]},Tile1x3:{type:"BoxGeometry",args:[1,1/3,3]},Tile1x4:{type:"BoxGeometry",args:[1,1/3,4]},Tile1x6:{type:"BoxGeometry",args:[1,1/3,6]},Tile1x8:{type:"BoxGeometry",args:[1,1/3,8]},Tile1x10:{type:"BoxGeometry",args:[1,1/3,10]},Tile1x12:{type:"BoxGeometry",args:[1,1/3,12]},Tile2x2:{type:"BoxGeometry",args:[2,1/3,2]},Tile2x3:{type:"BoxGeometry",args:[2,1/3,3]},Tile2x4:{type:"BoxGeometry",args:[2,1/3,4]},Tile2x6:{type:"BoxGeometry",args:[2,1/3,4]},Tile2x8:{type:"BoxGeometry",args:[2,1/3,8]},Tile2x10:{type:"BoxGeometry",args:[2,1/3,10]},Tile2x14:{type:"BoxGeometry",args:[2,1/3,14]},Tile2x16:{type:"BoxGeometry",args:[2,1/3,16]},Tile6x16:{type:"BoxGeometry",args:[6,1/3,16]},Tile4x4:{type:"BoxGeometry",args:[4,1/3,4]},Tile4x6:{type:"BoxGeometry",args:[4,1/3,6]},Tile4x8:{type:"BoxGeometry",args:[4,1/3,8]},Tile4x10:{type:"BoxGeometry",args:[4,1/3,10]},Tile4x12:{type:"BoxGeometry",args:[4,1/3,12]},Tile3x3:{type:"BoxGeometry",args:[3,1/3,3]},Tile6x6:{type:"BoxGeometry",args:[6,1/3,6]},Tile6x8:{type:"BoxGeometry",args:[6,1/3,8]},Tile6x10:{type:"BoxGeometry",args:[6,1/3,10]},Tile6x12:{type:"BoxGeometry",args:[6,1/3,12]},Tile6x14:{type:"BoxGeometry",args:[6,1/3,14]},Block1x1:{type:"BoxGeometry",args:[1,1,1]},Block1x2:{type:"BoxGeometry",args:[1,1,2]},Block1x3:{type:"BoxGeometry",args:[1,1,3]},Block1x4:{type:"BoxGeometry",args:[1,1,4]},Block1x6:{type:"BoxGeometry",args:[1,1,6]},Block1x8:{type:"BoxGeometry",args:[1,1,8]},Block1x10:{type:"BoxGeometry",args:[1,1,10]},Block1x12:{type:"BoxGeometry",args:[1,1,12]},Block1x16:{type:"BoxGeometry",args:[1,1,16]},Block2x2:{type:"BoxGeometry",args:[2,1,2]},Block2x3:{type:"BoxGeometry",args:[2,1,3]},Block2x4:{type:"BoxGeometry",args:[2,1,4]},Block2x6:{type:"BoxGeometry",args:[2,1,6]},Block2x8:{type:"BoxGeometry",args:[2,1,8]},Block2x10:{type:"BoxGeometry",args:[2,1,10]},Bridge12x3x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[2,1]},{draw:"lineTo",drawArgs:[4,2]},{draw:"lineTo",drawArgs:[6,2.5]},{draw:"lineTo",drawArgs:[8,2]},,{draw:"lineTo",drawArgs:[10,1]},,{draw:"lineTo",drawArgs:[11,0]},{draw:"lineTo",drawArgs:[12,0]},,{draw:"lineTo",drawArgs:[12,1]},,{draw:"lineTo",drawArgs:[11,1]},{draw:"lineTo",drawArgs:[11,2]},,{draw:"lineTo",drawArgs:[10,2]},,{draw:"lineTo",drawArgs:[10,3]},,{draw:"lineTo",drawArgs:[2,3]},{draw:"lineTo",drawArgs:[2,2]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Bridge8x2x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[1.4,4/6]},{draw:"lineTo",drawArgs:[2.5,1.5]},{draw:"lineTo",drawArgs:[4,10/6]},{draw:"lineTo",drawArgs:[5.5,1.5]},{draw:"lineTo",drawArgs:[6.6,4/6]},{draw:"lineTo",drawArgs:[7,0]},{draw:"lineTo",drawArgs:[8,0]},{draw:"lineTo",drawArgs:[8,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Bridge6x2x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[1.2,4/6]},{draw:"lineTo",drawArgs:[2,1.5]},{draw:"lineTo",drawArgs:[3,10/6]},{draw:"lineTo",drawArgs:[4,1.5]},{draw:"lineTo",drawArgs:[4.8,4/6]},{draw:"lineTo",drawArgs:[5,0]},{draw:"lineTo",drawArgs:[6,0]},{draw:"lineTo",drawArgs:[6,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Bridge4x1x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[7/6,.5]},{draw:"lineTo",drawArgs:[2,4/6]},{draw:"lineTo",drawArgs:[17/6,.5]},{draw:"lineTo",drawArgs:[3,0]},{draw:"lineTo",drawArgs:[4,0]},{draw:"lineTo",drawArgs:[4,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Bridge3x1x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[7/6,.5]},{draw:"lineTo",drawArgs:[1.5,4/6]},{draw:"lineTo",drawArgs:[11/6,.5]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[3,0]},{draw:"lineTo",drawArgs:[3,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Arc3x3x1_inverted:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[7/6,1]},{draw:"lineTo",drawArgs:[11/6,2]},{draw:"lineTo",drawArgs:[3,3-1/6]},{draw:"lineTo",drawArgs:[3,3]},{draw:"lineTo",drawArgs:[1,3]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Arc5x4x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[5,0]},{draw:"lineTo",drawArgs:[5,1/6]},{draw:"lineTo",drawArgs:[4,1/6]},{draw:"lineTo",drawArgs:[4,1]},{draw:"lineTo",drawArgs:[2.5,1.5]},{draw:"lineTo",drawArgs:[1.5,2.5]},{draw:"lineTo",drawArgs:[1,4]},{draw:"lineTo",drawArgs:[0,4]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[2,1]},{draw:"lineTo",drawArgs:[2,0]}]},Arc3x2x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[3,0]},{draw:"lineTo",drawArgs:[3,1/6]},{draw:"lineTo",drawArgs:[2.25,2/6]},{draw:"lineTo",drawArgs:[1.5,4/6]},{draw:"lineTo",drawArgs:[7/6,7/6]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Arc2x1x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1.5,2/6]},{draw:"lineTo",drawArgs:[7/6,4/6]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope_tri_inverted:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[2,5/6]},{draw:"lineTo",drawArgs:[2,1]},{draw:"lineTo",drawArgs:[-1,1]},{draw:"lineTo",drawArgs:[-1,5/6]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x3x1_inverted:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[2,3-1/6]},{draw:"lineTo",drawArgs:[2,3]},{draw:"lineTo",drawArgs:[0,3]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x3x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,3]},{draw:"lineTo",drawArgs:[0,3]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x3x2:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:2,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,3]},{draw:"lineTo",drawArgs:[0,3]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x2x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x2x2:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:2,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,2]},{draw:"lineTo",drawArgs:[0,2]},{draw:"lineTo",drawArgs:[0,0]}]},Slope4x1x3_inverted:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[4,3-1/6]},{draw:"lineTo",drawArgs:[4,3]},{draw:"lineTo",drawArgs:[2,3]},{draw:"lineTo",drawArgs:[0,3]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x1x2_inverted:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:2,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[2,1-1/6]},{draw:"lineTo",drawArgs:[2,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope1x1x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[1,1/6]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope1x1x2:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:2,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[1,0]},{draw:"lineTo",drawArgs:[1,1/6]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x1x1:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:1,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x1x2:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:2,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x1x3:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:3,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]},Slope2x1x4:{type:"ExtrudeGeometry",extrudeSettings:{steps:1,depth:4,bevelEnabled:!1,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:1},shapeArgs:[{draw:"moveTo",drawArgs:[0,0]},{draw:"lineTo",drawArgs:[2,0]},{draw:"lineTo",drawArgs:[2,1/6]},{draw:"lineTo",drawArgs:[1,1]},{draw:"lineTo",drawArgs:[0,1]},{draw:"lineTo",drawArgs:[0,0]}]}},c=(e,x,y,r,l,z)=>{e.push({geometry:T[x],pos:{x:1.56*y.x,y:1.92*y.y,z:1.56*y.z},rot:{x:r.x?r.x*Math.PI:0,y:r.y?r.y*Math.PI/2:0,z:r.z?r.z*Math.PI:0},scale:{x:1.56,y:1.92,z:1.56},name:x,lines:!l,hatch:l||z,full:l})};function p(e,x,y,r){let l={x:x.x-3,y:x.y+y-1/3,z:x.z};if(r){e.push({geometry:{type:"BoxGeometry",args:[37.44,t,37.44]},pos:{x:(x.x+6)*d,y:(x.y+y)*t,z:(x.z+6)*d},rot:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},lines:1,hatch:1,full:0});for(let x=0;x<4;++x)c(e,"Tile6x12",{x:l.x+6*x,y:l.y+1/3,z:l.z},0,0),c(e,"Tile6x12",{x:l.x+6*x,y:l.y+1/3,z:l.z+12},0,0);c(e,"Tile6x12",{x:l.x+3,y:l.y,z:l.z-3},{y:1},0),c(e,"Tile6x12",{x:l.x+3,y:l.y+2/3,z:l.z-3},{y:1},0),c(e,"Tile6x12",{x:l.x+15,y:l.y,z:l.z-3},{y:1},0),c(e,"Tile6x12",{x:l.x+15,y:l.y+2/3,z:l.z-3},{y:1},0),c(e,"Tile6x12",{x:l.x+3,y:l.y,z:l.z+15},{y:1},0),c(e,"Tile6x12",{x:l.x+3,y:l.y+2/3,z:l.z+15},{y:1},0),c(e,"Tile6x12",{x:l.x+15,y:l.y,z:l.z+15},{y:1},0),c(e,"Tile6x12",{x:l.x+15,y:l.y+2/3,z:l.z+15},{y:1},0),c(e,"Tile6x12",{x:l.x+9,y:l.y,z:l.z+9},{y:1},0),c(e,"Tile6x12",{x:l.x+9,y:l.y+2/3,z:l.z+9},{y:1},0),c(e,"Tile6x12",{x:l.x+9,y:l.y,z:l.z+3},{y:1},0),c(e,"Tile6x12",{x:l.x+9,y:l.y+2/3,z:l.z+3},{y:1},0),c(e,"Tile6x12",{x:l.x,y:l.y,z:l.z+6},{y:0},0),c(e,"Tile6x12",{x:l.x,y:l.y+2/3,z:l.z+6},{y:0},0),c(e,"Tile6x12",{x:l.x+18,y:l.y,z:l.z+6},{y:0},0),c(e,"Tile6x12",{x:l.x+18,y:l.y+2/3,z:l.z+6},{y:0},0)}else{c(e,"Tile2x8",{x:l.x-2,y:l.y+1/3,z:l.z+14},0,0,1),c(e,"Tile2x8",{x:l.x-2,y:l.y+1/3,z:l.z+6},0,0,1),c(e,"Tile2x8",{x:l.x-2,y:l.y+1/3,z:l.z-2},0,0,1),c(e,"Tile2x8",{x:l.x+20,y:l.y+1/3,z:l.z+14},0,0,1),c(e,"Tile2x8",{x:l.x+20,y:l.y+1/3,z:l.z+6},0,0,1),c(e,"Tile2x8",{x:l.x+20,y:l.y+1/3,z:l.z-2},0,0,1),c(e,"Tile2x10",{x:l.x+4,y:l.y+1/3,z:l.z+17},{y:1},0,1),c(e,"Tile2x10",{x:l.x+14,y:l.y+1/3,z:l.z+17},{y:1},0,1),c(e,"Tile2x10",{x:l.x+4,y:l.y+1/3,z:l.z-5},{y:1},0,1),c(e,"Tile2x10",{x:l.x+14,y:l.y+1/3,z:l.z-5},{y:1},0,1);for(let x=0;x<2;++x)c(e,"Tile2x10",{x:l.x-2,y:l.y+2*x/3,z:l.z+11},0,0,1),c(e,"Tile2x10",{x:l.x-2,y:l.y+2*x/3,z:l.z+1},0,0,1),c(e,"Tile2x10",{x:l.x+20,y:l.y+2*x/3,z:l.z+11},0,0,1),c(e,"Tile2x10",{x:l.x+20,y:l.y+2*x/3,z:l.z+1},0,0,1),c(e,"Tile2x8",{x:l.x+1,y:l.y+2*x/3,z:l.z+17},{y:1},0,1),c(e,"Tile2x8",{x:l.x+9,y:l.y+2*x/3,z:l.z+17},{y:1},0,1),c(e,"Tile2x8",{x:l.x+17,y:l.y+2*x/3,z:l.z+17},{y:1},0,1),c(e,"Tile2x8",{x:l.x+1,y:l.y+2*x/3,z:l.z-5},{y:1},0,1),c(e,"Tile2x8",{x:l.x+9,y:l.y+2*x/3,z:l.z-5},{y:1},0,1),c(e,"Tile2x8",{x:l.x+17,y:l.y+2*x/3,z:l.z-5},{y:1},0,1);c(e,"Block2x4",{x:l.x+18,y:l.y+1/3,z:l.z+14},0,0,1),c(e,"Block2x4",{x:l.x+0,y:l.y+1/3,z:l.z+14},0,0,1),c(e,"Block2x4",{x:l.x+18,y:l.y+1/3,z:l.z-2},0,0,1),c(e,"Block2x4",{x:l.x+0,y:l.y+1/3,z:l.z-2},0,0,1)}}function A(e,x,y,r){const l=e=>r?e:0,z=e=>r?0:e;if(r)for(let o=0;o<y;++o)o%2-1?(c(e,"Block2x8",{x:x.x+l(-4),y:x.y+o,z:x.z+z(-4)},r,0),c(e,"Block2x8",{x:x.x+l(4),y:x.y+o,z:x.z+z(4)},r,0)):(c(e,"Block2x4",{x:x.x+l(-6),y:x.y+o,z:x.z+z(-6)},r,0),c(e,"Block2x4",{x:x.x+l(6),y:x.y+o,z:x.z+z(6)},r,0),c(e,"Block2x8",{x:x.x+l(0),y:x.y+o,z:x.z+z(0)},r,0));else for(let o=0;o<y;++o)o%2-1?(c(e,"Block2x6",{x:x.x+l(-3),y:x.y+o,z:x.z+z(-3)},r,0),c(e,"Block2x6",{x:x.x+l(3),y:x.y+o,z:x.z+z(3)},r,0)):(c(e,"Block2x2",{x:x.x+l(-5),y:x.y+o,z:x.z+z(-5)},r,0),c(e,"Block2x2",{x:x.x+l(5),y:x.y+o,z:x.z+z(5)},r,0),c(e,"Block2x8",{x:x.x+l(0),y:x.y+o,z:x.z+z(0)},r,0));r?e.push({geometry:{type:"BoxGeometry",args:[37.44,y*t,3.12]},pos:{x:x.x*d,y:x.y*t+y*t/2-1,z:x.z*d},rot:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},lines:0,hatch:1,full:0}):e.push({geometry:{type:"BoxGeometry",args:[3.12,y*t,18.72]},pos:{x:x.x*d,y:x.y*t+y*t/2-1,z:x.z*d},rot:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},lines:0,hatch:1,full:0})}function B(e,x,y,r){if(r&&y>7)if(y-=7,1===r){let r={x:x.x,y:x.y+y,z:x.z};for(let x=0;x<6;++x)c(e,"Slope4x1x3_inverted",{x:r.x-1,y:r.y+1,z:r.z-1.5+x},{y:2},0,1),c(e,"Slope4x1x3_inverted",{x:r.x-3,y:r.y+4,z:r.z-1.5+x},{y:2},0,1);for(let x=0;x<2;++x)c(e,"Block2x6",{x:r.x+2,y:r.y+4+x,z:r.z+1},0,0,1),c(e,"Block2x6",{x:r.x,y:r.y+4+x,z:r.z+1},0,0,1);for(let x=0;x<3;++x)c(e,"Block2x6",{x:r.x+2,y:r.y+x,z:r.z+1},{y:2},0,1),c(e,"Tile4x6",{x:r.x+1,y:r.y+2+2/3+x/3,z:r.z+1},{y:2},0,1),c(e,"Tile6x8",{x:r.x-1,y:r.y+5+2/3+x/3,z:r.z+1},{y:1},0,1)}else if(2===r){let r={x:x.x,y:x.y+y,z:x.z};for(let x=0;x<6;++x)c(e,"Slope4x1x3_inverted",{x:r.x+3,y:r.y+1,z:r.z-1.5+x},{y:0},0,1),c(e,"Slope4x1x3_inverted",{x:r.x+5,y:r.y+4,z:r.z-1.5+x},{y:0},0,1);for(let x=0;x<2;++x)c(e,"Block2x6",{x:r.x+2,y:r.y+4+x,z:r.z+1},0,0,1),c(e,"Block2x6",{x:r.x,y:r.y+4+x,z:r.z+1},0,0,1);for(let x=0;x<3;++x)c(e,"Block2x6",{x:r.x,y:r.y+x,z:r.z+1},{y:2},0,1),c(e,"Tile4x6",{x:r.x+1,y:r.y+2+2/3+x/3,z:r.z+1},{y:2},0,1),c(e,"Tile6x8",{x:r.x+3,y:r.y+5+2/3+x/3,z:r.z+1},{y:1},0,1)}function l(y,r){c(e,"Block2x4",y,0,0,1),y={x:x.x+2,y:x.y+r,z:x.z+r%2*2},c(e,"Block2x4",y,0,0,1);let l=r%2?-1:3;y={x:x.x+1,y:x.y+r,z:x.z+l},c(e,"Block2x4",y,{y:1},0,1)}function z(x,y){for(let r=0;r<4;++r)c(e,"Bridge6x2x1",{x:x.x+r-.5,y:x.y-.5,z:x.z-y%2*2+1},{y:1},0,1)}function o(x,y){c(e,"Tile4x6",{x:x.x+1,y:x.y-1-1/3,z:x.z-y%2*2+1},0,0,1),c(e,"Tile4x6",{x:x.x+1,y:x.y,z:x.z-y%2*2+1},0,0,1),c(e,"Tile4x6",{x:x.x+1,y:x.y+1/3,z:x.z-y%2*2+1},0,0,1),c(e,"Slope_tri_inverted",{x:x.x-.5,y:x.y-2/3,z:x.z-y%2*2+2.5},{y:1},0,1),c(e,"Slope_tri_inverted",{x:x.x-.5,y:x.y-2/3,z:x.z-y%2*2-.5},{y:1},0,1),c(e,"Block2x6",{x:x.x+1,y:x.y-2/3,z:x.z-y%2*2+1},0,0,1),c(e,"Slope_tri_inverted",{x:x.x+2.5,y:x.y-2/3,z:x.z-y%2*2+2.5},{y:1},0,1),c(e,"Slope_tri_inverted",{x:x.x+2.5,y:x.y-2/3,z:x.z-y%2*2-.5},{y:1},0,1)}function s(x,y){for(let r=0;r<6;++r)c(e,"Bridge4x1x1",{x:x.x+1,y:x.y,z:x.z-y%2*2-1.5+r},0,0,1),c(e,"Arc2x1x1",{x:x.x,y:x.y-1,z:x.z-y%2*2-1.5+r},0,0,1),c(e,"Arc2x1x1",{x:x.x+2,y:x.y-1,z:x.z-y%2*2-1.5+r},{y:2},0,1)}const a=(e,x)=>w([z,o,s])(e,x);let t=0;for(let e=0;e<y;++e){let r={x:x.x+0,y:x.y+e,z:x.z+e%2*2};(e===y-3||0===e)&&i()<.1&&y>3||t?(t&&a(r,e),t=!t):l(r,e)}}const k=(e,x,y,r,l)=>{B(e,{x:x.x,y:x.y,z:x.z},y);for(let r=0;r<6;++r)r<3&&c(e,"Tile4x6",{x:x.x+1,y:x.y+y+2+(r-1)/3,z:x.z+1},0,0,1),r<2&&c(e,"Block2x6",{x:x.x+1,y:x.y+y+r,z:x.z+1},0,0,1),c(e,"Arc3x3x1_inverted",{x:x.x-1.5,y:x.y+y+1,z:x.z-1.5+r},{y:-2},0,1),c(e,"Arc3x3x1_inverted",{x:x.x+3.5,y:x.y+y+1,z:x.z-1.5+r},0,0,1)},v=(e,x,y,r)=>({NO:e?1:0,SO:x?1:0,NE:y?2:0,SE:r?2:0});function b(e,x,y,r,l){r?(c(e,"Block2x8",{x:x.x,y:x.y+y-1,z:x.z},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-1,z:x.z-8},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-1,z:x.z+8},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-3,z:x.z},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-3,z:x.z-8},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-3,z:x.z+8},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-2,z:x.z+5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-2,z:x.z-5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-4,z:x.z+5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-4,z:x.z-5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-5,z:x.z+5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-5,z:x.z-5},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-6,z:x.z},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-6,z:x.z-8},0,0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-6,z:x.z+8},0,0,1),c(e,"Block2x4",{x:l?x.x+1:x.x-1,y:x.y+y-5,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:l?x.x+1:x.x-1,y:x.y+y-5,z:x.z+11},{y:1},0,1),c(e,"Block2x4",{x:l?x.x+1:x.x-1,y:x.y+y-7,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:l?x.x+1:x.x-1,y:x.y+y-7,z:x.z+11},{y:1},0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-7,z:x.z+5},0,0,1),c(e,"Block2x10",{x:x.x,y:x.y+y-7,z:x.z-5},0,0,1)):(c(e,"Block2x2",{x:x.x-9,y:x.y+y-1,z:x.z},{y:1},0,1),c(e,"Block2x2",{x:x.x+9,y:x.y+y-1,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+4,y:x.y+y-1,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-4,y:x.y+y-1,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-2,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+8,y:x.y+y-2,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-8,y:x.y+y-2,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+4,y:x.y+y-3,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-4,y:x.y+y-3,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x,y:x.y+y-4,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+8,y:x.y+y-4,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-8,y:x.y+y-4,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-4,y:x.y+y-5,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+4,y:x.y+y-5,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x-5,y:x.y+y-6,z:x.z},{y:1},0,1),c(e,"Block2x8",{x:x.x+5,y:x.y+y-6,z:x.z},{y:1},0,1),c(e,"Block2x2",{x:x.x,y:x.y+y-6,z:x.z},{y:1},0,1))}function S(e,x,y){c(e,"Slope2x1x2_inverted",{x:x.x-6,y:x.y+y-4,z:x.z-11},0,0,1),c(e,"Slope2x1x2_inverted",{x:x.x-7,y:x.y+y-5,z:x.z-11},0,0,1),c(e,"Slope2x1x2_inverted",{x:x.x-8,y:x.y+y-6,z:x.z-11},0,0,1),c(e,"Slope2x1x2_inverted",{x:x.x+6,y:x.y+y-4,z:x.z-11},{y:-2},0,1),c(e,"Slope2x1x2_inverted",{x:x.x+7,y:x.y+y-5,z:x.z-11},{y:-2},0,1),c(e,"Slope2x1x2_inverted",{x:x.x+8,y:x.y+y-6,z:x.z-11},{y:-2},0,1),c(e,"Bridge12x3x1",{x:x.x,y:x.y+y-2,z:x.z-11.5},0,0,1),c(e,"Bridge12x3x1",{x:x.x,y:x.y+y-2,z:x.z-10.5},0,0,1),c(e,"Block2x4",{x:x.x-10,y:x.y+y-2,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:x.x+10,y:x.y+y-2,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:x.x-9,y:x.y+y-4,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:x.x+9,y:x.y+y-4,z:x.z-11},{y:1},0,1),c(e,"Block1x2",{x:x.x-11.5,y:x.y+y-4,z:x.z-11},{y:0},0,1),c(e,"Block1x2",{x:x.x+11.5,y:x.y+y-4,z:x.z-11},{y:0},0,1),c(e,"Block2x4",{x:x.x-8,y:x.y+y-3,z:x.z-11},{y:1},0,1),c(e,"Block2x4",{x:x.x+8,y:x.y+y-3,z:x.z-11},{y:1},0,1),c(e,"Block2x2",{x:x.x-6,y:x.y+y-2,z:x.z-11},{y:1},0,1),c(e,"Block2x2",{x:x.x+6,y:x.y+y-2,z:x.z-11},{y:1},0,1),c(e,"Block2x6",{x:x.x-7,y:x.y+y-1,z:x.z-11},{y:1},0,1),c(e,"Block2x6",{x:x.x+7,y:x.y+y-1,z:x.z-11},{y:1},0,1)}function f(e,x,y,r){if(r){for(let r=0;r<4;++r)c(e,"Block2x4",{x:x.x-13,y:x.y+y-r-1,z:x.z-8},0,0,1),c(e,"Block2x4",{x:x.x-13,y:x.y+y-r-1,z:x.z+8},0,0,1);c(e,"Block1x2",{x:x.x-13,y:x.y+y-6,z:x.z+6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-13,y:x.y+y-5,z:x.z+6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-13,y:x.y+y-6,z:x.z-6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-13,y:x.y+y-5,z:x.z-6.5},{y:1},0,1),c(e,"Block2x4",{x:x.x-12,y:x.y+y-6,z:x.z-8},{y:1},0,1),c(e,"Block2x4",{x:x.x-12,y:x.y+y-6,z:x.z+8},{y:1},0,1);for(let r=-1;r<2;++r)c(e,"Tile3x3",{x:x.x-11.5,y:x.y+y-6+r/3,z:x.z-10.5},0,0,1),c(e,"Tile4x4",{x:x.x-12,y:x.y+y-5+r/3,z:x.z-10},0,0,1),c(e,"Tile3x3",{x:x.x-11.5,y:x.y+y-6+r/3,z:x.z+10.5},0,0,1),c(e,"Tile4x4",{x:x.x-12,y:x.y+y-5+r/3,z:x.z+10},0,0,1)}else{for(let r=0;r<4;++r)c(e,"Block2x4",{x:x.x-9,y:x.y+y-r-1,z:x.z-8},0,0,1),c(e,"Block2x4",{x:x.x-9,y:x.y+y-r-1,z:x.z+8},0,0,1);c(e,"Block1x2",{x:x.x-9,y:x.y+y-6,z:x.z+6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-9,y:x.y+y-5,z:x.z+6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-9,y:x.y+y-6,z:x.z-6.5},{y:1},0,1),c(e,"Block1x2",{x:x.x-9,y:x.y+y-5,z:x.z-6.5},{y:1},0,1),c(e,"Block2x4",{x:x.x-10,y:x.y+y-6,z:x.z-8},{y:1},0,1),c(e,"Block2x4",{x:x.x-10,y:x.y+y-6,z:x.z+8},{y:1},0,1);for(let r=-1;r<2;++r)c(e,"Tile3x3",{x:x.x-10.5,y:x.y+y-6+r/3,z:x.z-10.5},0,0,1),c(e,"Tile4x4",{x:x.x-10,y:x.y+y-5+r/3,z:x.z-10},0,0,1),c(e,"Tile3x3",{x:x.x-10.5,y:x.y+y-6+r/3,z:x.z+10.5},0,0,1),c(e,"Tile4x4",{x:x.x-10,y:x.y+y-5+r/3,z:x.z+10},0,0,1)}c(e,"Block2x3",{x:x.x-11,y:x.y+y-4,z:x.z-8.5},0,0,1),c(e,"Block2x3",{x:x.x-11,y:x.y+y-4,z:x.z+8.5},0,0,1),c(e,"Block2x2",{x:x.x-11,y:x.y+y-3,z:x.z+7},0,0,1),c(e,"Block2x2",{x:x.x-11,y:x.y+y-3,z:x.z-7},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-2,z:x.z-7},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-2,z:x.z+7},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-1,z:x.z-6},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-1,z:x.z+6},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-3,z:x.z-10},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-1,z:x.z-10},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-3,z:x.z+10},0,0,1),c(e,"Block2x4",{x:x.x-11,y:x.y+y-1,z:x.z+10},0,0,1),c(e,"Bridge12x3x1",{x:x.x-11.5,y:x.y+y-2,z:x.z},{y:1},0,1),c(e,"Bridge12x3x1",{x:x.x-10.5,y:x.y+y-2,z:x.z},{y:1},0,1),c(e,"Slope2x3x1_inverted",{x:x.x-11.5,y:x.y+y-5,z:x.z+6},{y:1},0,1),c(e,"Slope2x3x1_inverted",{x:x.x-10.5,y:x.y+y-5,z:x.z+6},{y:1},0,1),c(e,"Slope2x3x1_inverted",{x:x.x-10.5,y:x.y+y-5,z:x.z-6},{y:-1},0,1),c(e,"Slope2x3x1_inverted",{x:x.x-11.5,y:x.y+y-5,z:x.z-6},{y:-1},0,1)}function m(e,x,y){const r=3.5+n(3);if(i()<.4){c(e,"Bridge6x2x1",{x:x.x,y:x.y+y+.5,z:x.z+r},0,0,1),c(e,"Slope2x3x1",{x:x.x-2,y:x.y+1,z:x.z+r},0,0,1),c(e,"Slope2x3x1",{x:x.x+2,y:x.y+1,z:x.z+r},{y:2},0,1);for(let l=3;l<y;++l)c(e,"Block1x1",{x:x.x-2.5,y:x.y+l,z:x.z+r},0,0,1),c(e,"Block1x1",{x:x.x+2.5,y:x.y+l,z:x.z+r},0,0,1)}if(i()<.4){c(e,"Bridge6x2x1",{x:x.x,y:x.y+y+.5,z:x.z-r},0,0,1),c(e,"Slope2x3x1",{x:x.x-2,y:x.y+1,z:x.z-r},0,0,1),c(e,"Slope2x3x1",{x:x.x+2,y:x.y+1,z:x.z-r},{y:2},0,1);for(let l=3;l<y;++l)c(e,"Block1x1",{x:x.x-2.5,y:x.y+l,z:x.z-r},0,0,1),c(e,"Block1x1",{x:x.x+2.5,y:x.y+l,z:x.z-r},0,0,1)}if(i()<.4){c(e,"Bridge6x2x1",{x:x.x-r,y:x.y+y+.5,z:x.z},{y:1},0,1),c(e,"Slope2x3x1",{x:x.x-r,y:x.y+1,z:x.z-2},{y:-1},0,1),c(e,"Slope2x3x1",{x:x.x-r,y:x.y+1,z:x.z+2},{y:1},0,1);for(let l=3;l<y;++l)c(e,"Block1x1",{x:x.x-r,y:x.y+l,z:x.z-2.5},0,0,1),c(e,"Block1x1",{x:x.x-r,y:x.y+l,z:x.z+2.5},0,0,1)}if(i()<.4){c(e,"Bridge6x2x1",{x:x.x+r,y:x.y+y+.5,z:x.z},{y:1},0,1),c(e,"Slope2x3x1",{x:x.x+r,y:x.y+1,z:x.z-2},{y:-1},0,1),c(e,"Slope2x3x1",{x:x.x+r,y:x.y+1,z:x.z+2},{y:1},0,1);for(let l=3;l<y;++l)c(e,"Block1x1",{x:x.x+r,y:x.y+l,z:x.z-2.5},0,0,1),c(e,"Block1x1",{x:x.x+r,y:x.y+l,z:x.z+2.5},0,0,1)}}function h(e,x,y,r,l,z){switch(p(e,{x:x.x-6,y:x.y,z:x.z-6},y,1),p(e,{x:x.x-6,y:x.y,z:x.z-6},0,1),m(e,{x:x.x,y:x.y+1,z:x.z},y-3),B(e,{x:x.x-11,y:x.y+1,z:x.z-10},y-6,l.SO),l.SO&&B(e,{x:x.x-15,y:x.y+y-6,z:x.z-10},7,0),B(e,{x:x.x+9,y:x.y+1,z:x.z-10},y-6,l.SE),l.SE&&B(e,{x:x.x+13,y:x.y+y-6,z:x.z-10},7,0),B(e,{x:x.x-11,y:x.y+1,z:x.z+8},y-6,l.NO),l.NO&&B(e,{x:x.x-15,y:x.y+y-6,z:x.z+8},7,0),B(e,{x:x.x+9,y:x.y+1,z:x.z+8},y-6,l.NE),l.NE&&B(e,{x:x.x+13,y:x.y+y-6,z:x.z+8},7,0),z){case"N":S(e,x,y),f(e,x,y),f(e,{x:x.x+22,y:x.y,z:x.z},y,1),A(e,{x:x.x,y:x.y,z:x.z+11},y-6,{y:1}),b(e,{x:x.x,y:x.y,z:x.z+11},y);break;case"S":S(e,{x:x.x,y:x.y,z:x.z+22},y),f(e,x,y),f(e,{x:x.x+22,y:x.y,z:x.z},y,1),A(e,{x:x.x,y:x.y,z:x.z-11},y-6,{y:1}),b(e,{x:x.x,y:x.y,z:x.z-11},y);break;case"O":S(e,{x:x.x,y:x.y,z:x.z+22},y),f(e,x,y),S(e,x,y),A(e,{x:x.x+11,y:x.y,z:x.z},y-6-1,0),b(e,{x:x.x+11,y:x.y,z:x.z},y,1);break;case"E":S(e,{x:x.x,y:x.y,z:x.z+22},y),f(e,{x:x.x+22,y:x.y,z:x.z},y,1),S(e,x,y),A(e,{x:x.x-11,y:x.y,z:x.z},y-6-1,0),b(e,{x:x.x-11,y:x.y,z:x.z},y,1,1)}}function u(e,x,y,r,l){x.y--,m(e,{x:x.x,y:x.y-11+y,z:x.z},9),p(e,{x:x.x-6,y:x.y+1,z:x.z-6},y,1),p(e,{x:x.x-6,y:x.y+1+y-13,z:x.z-6},0,1),B(e,{x:x.x-11,y:x.y+y-11,z:x.z-10},12,l.NO),l.NO&&B(e,{x:x.x-15,y:x.y+y+1,z:x.z-10},1,0),B(e,{x:x.x-11,y:x.y+y-11,z:x.z+8},12,l.SO),l.SO&&B(e,{x:x.x-15,y:x.y+y+1,z:x.z+8},1,0),B(e,{x:x.x+9,y:x.y+y-11,z:x.z-10},12,l.NE),l.NE&&B(e,{x:x.x+13,y:x.y+y+1,z:x.z-10},1,0),B(e,{x:x.x+9,y:x.y+y-11,z:x.z+8},12,l.SE),l.SE&&B(e,{x:x.x+13,y:x.y+y+1,z:x.z+8},1,0),B(e,{x:x.x-11,y:x.y+1,z:x.z-10},y-13),B(e,{x:x.x-11,y:x.y+1,z:x.z+8},y-13),B(e,{x:x.x+9,y:x.y+1,z:x.z-10},y-13),B(e,{x:x.x+9,y:x.y+1,z:x.z+8},y-13);{const r=y-12;for(let y=0;y<4;++y)c(e,"Block2x2",{x:x.x-11,y:x.y+3+3*y+r,z:x.z-3},0,0,1),c(e,"Block2x2",{x:x.x-11,y:x.y+3+3*y+r,z:x.z+3},0,0,1),c(e,"Block2x10",{x:x.x-9+y,y:x.y+3+3*y+r,z:x.z},0,0,1),c(e,"Block2x6",{x:x.x-9,y:x.y+1+3*y+r,z:x.z+3},{y:1},0,1),c(e,"Block2x6",{x:x.x-9,y:x.y+2+3*y+r,z:x.z+3},{y:1},0,1),c(e,"Block2x6",{x:x.x-9,y:x.y+1+3*y+r,z:x.z-3},{y:1},0,1),c(e,"Block2x6",{x:x.x-9,y:x.y+2+3*y+r,z:x.z-3},{y:1},0,1),c(e,"Slope2x3x2",{x:x.x-11+y,y:x.y+2+3*y+r,z:x.z+5},{y:2},0,1),c(e,"Slope2x3x2",{x:x.x-11+y,y:x.y+2+3*y+r,z:x.z-5},{y:2},0,1),c(e,"Slope2x3x2",{x:x.x-11+y,y:x.y+2+3*y+r,z:x.z+1},{y:2},0,1),c(e,"Slope2x3x2",{x:x.x-11+y,y:x.y+2+3*y+r,z:x.z-1},{y:2},0,1),c(e,"Block2x2",{x:x.x+11,y:x.y+3+3*y+r,z:x.z+3},0,0,1),c(e,"Block2x2",{x:x.x+11,y:x.y+3+3*y+r,z:x.z-3},0,0,1),c(e,"Block2x10",{x:x.x+9-y,y:x.y+3+3*y+r,z:x.z},0,0,1),c(e,"Block2x6",{x:x.x+9,y:x.y+1+3*y+r,z:x.z+3},{y:1},0,1),c(e,"Block2x6",{x:x.x+9,y:x.y+2+3*y+r,z:x.z+3},{y:1},0,1),c(e,"Block2x6",{x:x.x+9,y:x.y+1+3*y+r,z:x.z-3},{y:1},0,1),c(e,"Block2x6",{x:x.x+9,y:x.y+2+3*y+r,z:x.z-3},{y:1},0,1),c(e,"Slope2x3x2",{x:x.x+11-y,y:x.y+2+3*y+r,z:x.z+5},0,0,1),c(e,"Slope2x3x2",{x:x.x+11-y,y:x.y+2+3*y+r,z:x.z-5},0,0,1),c(e,"Slope2x3x2",{x:x.x+11-y,y:x.y+2+3*y+r,z:x.z+1},0,0,1),c(e,"Slope2x3x2",{x:x.x+11-y,y:x.y+2+3*y+r,z:x.z-1},0,0,1)}}function G(e,x,y,r,l){p(e,{x:x.x-6,y:x.y,z:x.z-6},y,r),B(e,{x:x.x-11,y:x.y,z:x.z-10},y-6,l.NO),l.NO&&B(e,{x:x.x-15,y:x.y+y-6,z:x.z-10},7,0),B(e,{x:x.x-11,y:x.y,z:x.z+8},y-6,l.SO),l.SO&&B(e,{x:x.x-15,y:x.y+y-6,z:x.z+8},7,0),B(e,{x:x.x+9,y:x.y,z:x.z-10},y-6,l.NE),l.NE&&B(e,{x:x.x+13,y:x.y+y-6,z:x.z-10},7,0),B(e,{x:x.x+9,y:x.y,z:x.z+8},y-6,l.SE),l.SE&&B(e,{x:x.x+13,y:x.y+y-6,z:x.z+8},7,0),S(e,x,y),f(e,x,y),S(e,{x:x.x,y:x.y,z:x.z+22},y),f(e,{x:x.x+22,y:x.y,z:x.z},y,1)}function E(e,x,y,r){x.y--;for(let l=0;l<12;++l)if(11===l&&(p(e,{x:x.x-6,y:x.y+1,z:x.z-6},y-1,0),p(e,{x:x.x-6,y:x.y+1,z:x.z-6},y,1)),l%2)p(e,{x:x.x-6,y:x.y+1,z:x.z-6},l+y-14,0);else if(l<11){for(let r=0;r<7;++r)c(e,"Block1x2",{x:x.x-6+2*r,y:l+x.y-1+y-10,z:x.z+11},0,0,1),c(e,"Block1x2",{x:x.x-6+2*r,y:l+x.y-1+y-10,z:x.z-11},0,0,1);for(let r=0;r<5;++r)c(e,"Block1x2",{x:x.x-11,y:l+x.y-1+y-10,z:x.z-4+2*r},{y:1},0,1),c(e,"Block1x2",{x:x.x+11,y:l+x.y-1+y-10,z:x.z-4+2*r},{y:1},0,1);B(e,{x:x.x-11,y:l+x.y-1+y-10,z:x.z-10},1,r),B(e,{x:x.x-11,y:l+x.y-1+y-10,z:x.z+8},1,r),B(e,{x:x.x+9,y:l+x.y-1+y-10,z:x.z-10},1),B(e,{x:x.x+9,y:l+x.y-1+y-10,z:x.z+8},1)}B(e,{x:x.x-11,y:x.y+1,z:x.z-10},y-13),B(e,{x:x.x-11,y:x.y+1,z:x.z+8},y-13),B(e,{x:x.x+9,y:x.y+1,z:x.z-10},y-13),B(e,{x:x.x+9,y:x.y+1,z:x.z+8},y-13)}function O(e,x,y,r,l){x.x-=6,x.z-=6,y-=4;for(let r=0;r<3;++r)for(let l=0;l<3;++l)1===r||1===l?i()<.4&&k(e,{x:x.x-3+8*l,y:x.y,z:x.z-4+9*r},y):k(e,{x:x.x-3+8*l,y:x.y,z:x.z-4+9*r},y);p(e,{x:x.x,y:x.y+3,z:x.z},y,1),p(e,{x:x.x,y:x.y+4,z:x.z},y,1)}const _=3+n(4);function N(){s.push({geometry:{type:"BoxGeometry",args:[74.88,t,74.88]},pos:{x:0,y:-1.92,z:0},rot:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},lines:1,hatch:1,full:0})}a["Nombre d'etages"]=_;const M=(()=>{const e=[],x=[],y=[];let r=0;const l=e=>{const x=[e.x-11,e.z-10],y=[x,[e.x-11,e.z+8],[e.x+9,e.z+8],[e.x+9,e.z-10],x],r=[e.x-12,e.z-12];return{polyReal:y,polyTest:[r,[e.x-12,e.z+12],[e.x+12,e.z+12],[e.x+12,e.z-12],r]}},z=z=>{const o={},s=[G,h,u,G,E];if(0===z&&s.push(O),o.type=w(s),o.hauteur=17+n(12),e.length)o.position=function(r,z,o){const s=z;let a=4*(1+n(5))-12,t={x:a,y:s,z:6*(1+n(3))-12},d=i()<.3;if(a!==r.x+4&&a!==r.x-4||(d=!0),e[e.length-1].type!==E&&e[e.length-1].type!==O||(d=!1),d){let x=i()<.5?-4:4;r.x+x<12&&(x=4),r.x+x>12&&(x=-4),t={x:r.x+x,y:s,z:r.z},e[e.length-1].cols=x<0?v(1,1,0,0):v(0,0,1,1)}else e[e.length-1].cols=v(0,0,0,0);t.x,t.z,t.x,t.z,t.x,t.z,t.x,t.z;const w=l(t);if(x.length)for(let r=0;r<4;++r){w.polyTest[r];const l=w.polyReal[r];if(!d){let r=!0;for(let z=x.length-1;z>=0;--z)g(x[z].poly,l[0],l[1])&&r&&(y.push({pos:{x:l[0],y:e[z].niveau,z:l[1]},h:e[x.length-1].niveau-e[z].niveau}),r=!1);r&&y.push({pos:{x:l[0],y:0,z:l[1]},h:z})}}return x.push({poly:w.polyTest,hauteur:z+o}),t}(e[z-1].position,e[z-1].niveau,o.hauteur);else{o.position={x:4*n(6)-12,y:0,z:6*n(4)-12};const y=l(o.position).polyTest;x.push({poly:y,hauteur:12}),e.cols=v(0,0,0,0)}r+=o.hauteur+1,o.niveau=r,o.orientation=w(["S","N","O","E"]),e.push(o)};for(let e=0;e<_;++e)z(e);return e[e.length-1].cols=v(0,0,0,0),{etages:e,plan:x,colonnes:y}})();M.etages.forEach((e=>e.type(s,e.position,e.hauteur,1,e.cols,e.orientation))),M.colonnes.forEach((e=>B(s,e.pos,e.h))),a.brickCount=0;let P={};s.forEach((e=>{e.lines&&(a.brickCount++,P.hasOwnProperty(e.name)||(P[e.name]=0),P[e.name]++)})),delete P.undefined;const R=[];if(x){const e=7;for(let x=-e/2;x<e/2;x++)for(let y=-e/2;y<e/2;y++)0===x&&0===y||R.push({x:48*x*d,y:0,z:48*y*d});N(),y&&s.forEach((e=>{e.pos.x+=y.x,e.pos.y+=y.y,e.pos.z+=y.z})),N()}else{const e=M.etages.length,x=n(e),y=M.etages[x].position;a.LumPos={x:y.x*d,y:(y.y+10)*t,z:y.z*d}}return{figures:s,features:a,brickMap:P,plan:R}};export{genererFigures};
(()=>{var e={},a=function(e,a,n){var t=new OffscreenCanvas(4*a,3*a);self.document={createElement:function(){return t},fonts:{check:function(){return!0}}};var s=e.skybox(a,n,!0);for(var o in s.coordinates){var r=s.coordinates[o],i=new OffscreenCanvas(a,a).getContext("2d",{willReadFrequently:!0});i.putImageData(s.image,-r.x,-r.y,r.x,r.y,a,a),postMessage({pos:o,imagedata:i.getImageData(0,0,a,a),side:a})}};onmessage=function(n){var t=n.data.skyurl,s=n.data.side,o=n.data.hash;e.hasOwnProperty(t)?(skybox=e[t],a(skybox,s,o)):import(t).then((function(n){e[t]=n,a(n,s,o)}))}})();